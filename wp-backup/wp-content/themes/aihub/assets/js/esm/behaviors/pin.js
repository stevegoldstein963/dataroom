import n from"./base.js";class r extends n{static name="liquidPin";options(){return{start:"top top",end:"bottom top",trigger:"self",endTrigger:"self",duration:null,pin:!0,horizontal:!1,pinnedContainer:null,pinReparent:null,pinSpacer:null,pinSpacing:!1,pinType:"fixed",onEnter:null,onLeave:null,onEnterBack:null,onLeaveBack:null}}initialize(){this.sc=ScrollTrigger.create({trigger:this.getTrigger(),endTrigger:this.getEndTrigger(),start:this.getOption("start"),end:this.getEnd(),pin:this.getOption("pin"),horizontal:this.getOption("horizontal"),pinnedContainer:this.getOption("pinnedContainer"),pinReparent:this.getOption("pinReparent"),pinSpacer:this.getOption("pinSpacer"),pinSpacing:this.getOption("pinSpacing"),pinType:this.getOption("pinType"),onEnter:this.getOption("onEnter"),onLeave:this.getOption("onLeave"),onEnterBack:this.getOption("onEnterBack"),onLeaveBack:this.getOption("onLeaveBack")}),this.isInitialized=!0}getTrigger(){const t=this.getOption("trigger");let e;switch(t){case"topParent":const i=this.view.model.get("topParentContainer");i&&(e=i.view.el);break;case"pinnedElement":typeof this.getOption("pin")=="string"&&(e=this.view.el.querySelector(this.getOption("pin")));break;default:e=this.view.el}return e}getEndTrigger(){const t=this.getOption("endTrigger");let e;switch(t){case"topParent":const i=this.view.model.get("topParentContainer");i&&(e=i.view.el);break;case"pinnedElement":typeof this.getOption("pin")=="string"&&(e=this.view.el.querySelector(this.getOption("pin")));break}return e}getDuration(){let t=this.getOption("duration");return t?(t==="parentHeight"&&(t=`${this.view.model.get("parentsCollection").at(0).view.el.offsetHeight-this.view.el.offsetTop}px`),t):0}getEnd(){let t=this.getDuration(),e=this.getOption("end");const i=e.split(" ");return i.length===1?e:(i[0]+=(parseInt(t)>=0?"+":"-")+"="+t,i.join(" "))}destroy(){this.sc?.kill(),super.destroy()}}export default r;
