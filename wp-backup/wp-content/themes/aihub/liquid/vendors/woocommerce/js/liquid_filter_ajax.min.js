!function(t){let e=wcLiquid.options||{},a=wcLiquid.paged||1,n=e.wcAjaxFilter||"off",i=e.wcAjaxPagination||"off",o=e.wcAjaxPaginationType||"classic",r=e.wcAjaxPaginationButtonText||"Load more products",l="filter",c=!0;function s(t){return"on"===t}t(document).ready(function e(){let d=t(".widget_price_filter"),p=t(".widget_product_categories, .wc-block-product-categories"),h=t(".widget_layered_nav").not("[class*=yith-woo-ajax-]"),m=t(".woocommerce-notices-wrapper"),g=(t(".ld-shop-topbar"),t("ul.products")),f=t(".woocommerce-pagination"),u=null;t("span.count").each(function(){t(this).text(t(this).text().replace(/[()]/g,""))}),s(i)&&g.length&&f.length&&("scroll"===o&&(t(window).on("scroll",function(){let e=t(this).scrollTop()+window.innerHeight,a=g.offset().top+g.height();c&&e>=a&&(c=!1,t(".next.page-numbers").trigger("click"))}),v()),"button"===o&&x(),t(document).on("click","a.page-numbers",function(e){e.preventDefault();let n=t("span.page-numbers.current");a=n.length?parseInt(n.text()):1,t(this).hasClass("next")&&a++,t(this).hasClass("prev")&&a--,t.isNumeric(t(this).text())&&(a=parseInt(t(this).text())),l="pagination",b()})),s(n)&&g.length&&(d.length&&d.find("form").on("submit",function(t){t.preventDefault(),l="filter",b()}),t(document).on("submit","form.woocommerce-ordering",function(t){t.preventDefault(),l="filter",b()}),p.length&&p.find("a").on("click",function(e){e.preventDefault(),t(this).parent().toggleClass("chosen"),l="filter",b()}),h.length&&h.find("a").on("click",function(e){e.preventDefault(),t('a[href="'+t(this).attr("href")+'"]').parent().toggleClass("woocommerce-widget-layered-nav-list__item--chosen chosen"),l="filter",b()}));let w=new URLSearchParams(window.location.search);function b(){let e={},n=new URL(location.href),i=t("select.orderby").val()||"menu_order",r=w.get("s")||"";if(d.length){let s=d.find("#min_price"),b=d.find("#max_price");(parseInt(s.val())!==parseInt(s.data("min"))||parseInt(b.val())!==parseInt(b.data("max")))&&(e.min_price=parseInt(s.val()),e.max_price=parseInt(b.val()))}if(h.length&&t.each(h.find(".chosen .count"),function(a,n){let i=e[t(n).data("filter")]?e[t(n).data("filter")]+",":"";e[t(n).data("filter")]=i+t(n).data("slug")}),t.each(e,function(t,e){n.searchParams.set(t,e)}),n.searchParams.set("orderby",i),"filter"===l&&(n.pathname=n.pathname.replace("page/"+a,""),a=1),"pagination"===l){let y=t("span.page-numbers.current"),C=y.length?parseInt(y.text()):1;n.pathname=n.pathname.replace("page/"+C,"")+"page/"+a}if(p.length&&t(".woocommerce .widget_product_categories li.chosen a input").length){let j=t(".woocommerce .widget_product_categories li.chosen").get(),k=j.map(t=>t.querySelector("input").getAttribute("data-term-id"));e.term_id=k}else wcLiquid.termId&&(e.term_id=wcLiquid.termId);t.ajax({type:"post",url:wcLiquid.ajaxUrl,data:{action:"liquid_wc_filter_ajax",filters:e,page:a,orderby:i,s:r},beforeSend:function(){("classic"===o||"filter"===l)&&g.addClass("items-loading").append('<span class="row-bg-loader"></span>'),"pagination"===l&&"scroll"===o&&u.addClass("lqd-ajax-btn-loading"),"pagination"===l&&"button"===o&&u.addClass("lqd-ajax-btn-loading")},success:function(e){if(!0===e.success){let i=t(e.data.html).find(".woocommerce-notices-wrapper").html()||"",r=(t(e.data.html).find(".ld-shop-topbar").html(),t(e.data.html).find("ul.products").html()||""),s=t(e.data.html).find(".woocommerce-pagination").html()||"";("classic"===o||"filter"===l)&&(m.html(i),g.removeClass("items-loading").html(r),f.html(s),t(".woocommerce-ordering").on("change","select.orderby",function(){t(this).closest("form").submit()}),t("form").liquidFormInputs(),t("html, body").animate({scrollTop:g.offset().top-t(".main-header[data-sticky-header]").outerHeight()-130})),"pagination"===l&&("button"===o||"scroll"===o)&&(g.removeClass("items-loading").html(g.html()+r),f.removeClass("lqd-ajax-btn-loading"),f.html(s)),history.pushState&&history.pushState({path:n.href},"",decodeURIComponent(n.href)),t("a.page-numbers").each(function(){let e=location.pathname.replace("/page/"+a,"")+t(this).attr("href");t(this).attr("href",location.origin+e+location.search)}),"button"===o&&x(),"scroll"===o&&(c=!0,v()),t(".row-bg-loader").remove()}}})}function x(){t(".next.page-numbers",f).html(`<span>${r}</span>`).parent().addClass("wc-pagination-button"),u=t(".wc-pagination-button a",f),f.addClass("wc-pagination-type-button").find("li:not(.wc-pagination-button)").hide()}function v(){f.addClass("wc-pagination-type-scroll").find("li").hide()}(w.get("min_price")||w.get("max_price")||~window.location.search.indexOf("filter_"))&&b()})}(jQuery);